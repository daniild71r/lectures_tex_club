\subsection{Свободные абелевы группы}

В данном разделе и далее рассматриваемые группы будут абелевыми, и операция в них будет обозначаться через $+$.

\begin{example}
	Группа $\Q$ не является конечнопорожденной. Она не является циклической, и любые две нетривиальных подгруппы в ней имеют нетривиальное пересечение.
\end{example}

\begin{note}
	Если $(n, k) = 1$, то $\Z_n \oplus \Z_k \cong \Z_{nk}$, поскольку $\ord(\overline{1}, \overline{1})$ в этой группе равен $nk$.
\end{note}

\begin{definition}
	Пусть $G$ --- абелева группа. Система элементов $(e_1, \ldots, e_k)$ группы $G$ называется \textit{независимой}, если $\forall n_1, \ldots, n_k \in \Z\ \ \sum_{i = 1}^kn_ie_i = 0 \ra n_1 = \ldots = n_k = 0$.
\end{definition}

\begin{definition}
	 Система $(e_1, \ldots, e_k)$ называется \textit{базисом} в $G$, если она независима и $G = \gl e_1, \ldots, e_k\gr$.
\end{definition}

\begin{note}
	Любая непустая система в $\Z_n$ зависима.
\end{note}

\begin{proposition}
	Пусть $(e_1, \ldots, e_k)$ --- базис в абелевой группе $G$. Тогда $\forall g \in G\ \exists! n_1, \ldots, n_k \in \Z\ \ g = \sum_{i = 1}^k n_ie_i$.
\end{proposition}

\begin{proof}
	Существование коэффициентов $n_1, \ldots, n_k$ следует из определения базиса. Если же $g = \sum_{i = 1}^k n_ie_i = \sum_{i = 1}^km_ie_i$, то $\sum_{i = 1}^k (n_i - m_i)e_i = 0$, откуда $\forall i \in \{1, \ldots, k\}\ n_i = m_i$.
\end{proof}

\begin{definition}
	Абелева группа $G$ называется \textit{свободной абелевой группой ранга $k$}, если в ней существует базис из $k$ элементов.
\end{definition}

\begin{proposition}
	Пусть $G$ --- свободная абелева группа ранга $k$. Тогда $G \cong \Z^k$.
\end{proposition}

\begin{proof}
	Пусть $(e_1, \ldots, e_k)$ --- базис в $G$. Рассмотрим отображение $\phi: \Z^k \to G$ такое, что $\forall (n_1, \ldots, n_k) \in \Z^k: \phi((n_1, \ldots, n_k)) = \sum_{i = 1}^kn_ie_i$. Очевидно, это гомоморфизм, причем биективный в силу предыдущего утверждения.
\end{proof}

\begin{note}
	Группа $\Z^k$ обладает базисом. Например, им является система $e_1 = (1, 0, \ldots, 0), \ldots, e_k = (0, \ldots, 0, 1)$.
\end{note}

\begin{proposition} (Универсальное свойство свободной абелевой группы)
	Пусть $G$ --- свободная абелева группа с базисом $(e_1, \ldots, e_n)$. Тогда для любой абелевой группы $A$ выполнено \textit{универсальное свойство}:
	\[
		\forall a_1, \ldots, a_n \in A\ \exists \phi \colon G \to A \text{ --- гомоморфизм} \such \forall i \in \{1, \ldots, n\}\ \phi(e_i) = a_i
	\]
\end{proposition}

\begin{proof}
	Отображение $\phi$ задается однозначно:
	\[
		\forall g \in G,\ g = \sum_{i = 1}^n k_ie_i \ra \phi(g) = \sum_{i = 1}^n k_i a_i
	\]
	Определение корректно в силу единственности разложения каждого элемента по базису. Остается проверить, что полученное отображение действительно является гомоморфизмом:
	\[
		\forall g, h \in G,\ g = \sum_{i = 1}^n k_ie_i, h = \sum_{i = 1}^n l_ie_i \ra \phi(g) + \phi(h) = \sum_{i = 1}^n k_ia_i + \sum_{i = 1}^n l_ia_i = \sum_{i = 1}^n (k_i + l_i)a_i = \phi(g + h)
	\]
\end{proof}

\begin{proposition}
	Пусть $G$ --- свободная абелева группа с базисом $(e_1, \ldots, e_n)$. Тогда:
	\[
		G \cong \gl a_1, \ldots, a_n \mid \forall i, j \in \{1, \ldots, n\}\ [a_i, a_j] = e \gr \cong F_n / F_n'
	\]
	где $F_n$ --- свободная группа порядка $n$.
\end{proposition}

\begin{proof}
	Положим $H := \gl a_1, \ldots, a_n \mid \forall i, j \in \{1, \ldots, n\}\ [a_i, a_j] = e \gr$. Группа $H$ --- абелева, поскольку все ее порождающие коммутируют. Тогда, по универсальному свойству $G$, существует гомоморфизм $\phi: G \to H$ такой, что $\forall i \in \{1, \ldots, n\}: \phi(e_i) = a_i$. Поскольку $G$ --- абелева, то соотношения, задающие $H$, выполнены и в $G$, и, по универсальному свойству $H$, существует гомоморфизм $\psi: H \to G$ такой, что $\forall i \in \{1, \ldots, n\}: \psi(a_i) = e_i$. Остается заметить, что $\phi \circ \psi = \id_H$, $\psi \circ \phi = \id_G$, поэтому этим гомоморфизмы биективны и взаимно обратны. Наконец, по определению группы, заданной образующими и соотношениями, $H \cong F_n / \gl [a_i, a_j] : i, j \in \{1, \ldots, n\}\gr_{norm} \cong F_n / F_n'.$
\end{proof}

\begin{note}
	Изоморфизмы в утверждении выше имеют следующий вид: $e_i \mapsto a_i \mapsto \overline{f_i} = f_iF_n'$.
\end{note}

\begin{theorem}
	Пусть $G$ --- свободная абелева группа, $(e_1, \ldots, e_n)$ и $(e_1', \ldots, e_k')$ --- два базиса в $G$. Тогда $n = k$.
\end{theorem}

\begin{proof}
	Пусть без ограничения общности $n < k$. Поскольку $(e_1, \ldots, e_n)$ --- базис, то $(e_1', \ldots, e_k') = (e_1, \ldots, e_n)S$ для некоторой матрицы $S \in M_{n \times k}(\Z) \subset M_{n \times k}(\Q)$. По основной лемме о линейной зависимости, столбцы $S$ линейно зависимы над $\Q$: $\exists \overline{q} \in \Q^k, \overline{q} \ne \overline{0}: S\overline{q} = \overline{0}$. Можно считать, что $\overline{q} \in \Z^k$, поскольку умножение всех элементов столбца на наименьшее общее кратное их знаменателей сохраняет равенство. Но тогда $(e_1', \ldots, e_k')\overline{q} = 0$, то есть система $(e_1', \ldots, e_k')$ зависима --- противоречие.
\end{proof}

\begin{definition}
	Пусть $G$ --- свободная абелева группа. Ее \textit{рангом} называется число элементов в любом базисе в $G$.
\end{definition}

\begin{note}
	Мы доказали, что любая система из $n+1$ элемента в свободной абелевой группе ранга $n$ зависима, но из этого не следует, что один из элементов такой системы выражается через остальные. Например, система $(2, 3)$ в $\Z$ зависима, но 2 и 3 не выражаются друг через друга.
\end{note}

\begin{theorem}
	Пусть $G$ --- свободная абелева группа, $(e_1, \ldots, e_n)$ --- базис в $G$. Рассмотрим $(e_1', \ldots, e_n') = (e_1, \ldots, e_n)S$, $S \in M_n(\Z)$. Тогда $(e_1', \ldots, e_n')$ --- базис в $G$ $\Lra$ $\det{S} = \pm1$.
\end{theorem}

\begin{proof}~
	\begin{itemize}
		\item[$\ra$] Если $(e_1', \ldots, e_n')$ --- базис в $G$, то  $(e_1, \ldots, e_n) = (e_1', \ldots, e_n')T = (e_1, \ldots, e_n)ST$, $T \in M_n(\Z)$. В силу единственности разложения, $ST = E$, тогда, поскольку определители $S$ и $T$ целочисленны, $|\det{S}| = |\det{T}| = 1$.
		
		\item[$\la$] Если $\det{S} = \pm1$, то, по формуле Крамера, $S^{-1} \in M_n(\Z)$. Тогда $(e_1, \ldots, e_n) = (e_1', \ldots, e_n')S^{-1}$, поэтому $G = \gl e_1', \ldots, e_n' \gr$. Наконец, система $(e_1', \ldots, e_n')$ независима: если для некоторого $\overline{z} \in \Z^n$ $(e_1', \ldots, e_n')\overline{z} = 0$, то тогда $(e_1, \ldots, e_n)S\overline{z} = 0$, откуда $S\overline{z} = \overline{0}$, и, в силу невырожденности $S$, $\overline{z} = \overline{0}$.
	\end{itemize}
\end{proof}

\begin{note}
	В ходе доказательства теоремы мы также получили, что $(M_n(\Z))^* = \{S \in M_n(\Z): \det{S} = \pm1\}$. Эта группа обозначается через $\GL_n(\Z)$.
\end{note}

\begin{note}
	Для любой абелевой группы $A = \gl a_1, \ldots, a_n \gr$ существует гомоморфизм $\phi: \Z^n \to A$ такой, что $\forall i \in \{1, \ldots, n\}: \phi(e_i) = a_i$. Этот гомоморфизм сюръективен, тогда, по основной теореме о гомоморфизме, $A \cong \Z^n / \ke\phi$.
\end{note}

\begin{theorem}
	Пусть $G$ --- свободная абелева группа ранга $n$, $H \le G$. Тогда $H$ --- свободная абелева группа ранга $k$, $k \le n$.
\end{theorem}

\begin{proof}
	Проведем индукцию по $n$. База, $n = 0$, тривиальна, поскольку в этом случае $G = H =  \{e\}$.
	
	Пусть теперь $n \ge 1$, $(e_1, \ldots, e_n)$ --- базис в $G$. Рассмотрим гомоморфизм $\phi: G \to \Z$ такой, что $\phi(e_n) = 1$, $\forall i \in \{1, \ldots, n - 1\}: \phi(e_i) = 0$. Тогда $G_1 {:=} \gl e_1, \ldots, e_{n - 1} \gr = \ke\phi$ --- свободная абелева группа ранга $n - 1$. Пусть $\psi := \phi|_H$, $H_1 {:=} \ke\psi = G_1 \cap H \le G_1$. По предположению индукции, $H_1$ --- свободная абелева группа с базисом $(h_1, \ldots, h_l)$, $l \le n - 1$. Если $\im\psi = \{0\}$, то $H = H_1$. Иначе --- $\im\psi = m\Z$, $m \ge 1$. Выберем $h_{l + 1}$ из $\psi^{-1}(m)$ и докажем, что $(h_1, \ldots, h_{l + 1})$ --- базис в $H$.
	
	С одной стороны, $\forall h \in H: \exists h' \in \ke\psi: h = h' + \frac{\psi(h)}{m}h_{l + 1}$, поэтому $H = \gl h_1, \ldots, h_{l + 1} \gr$. С другой стороны, если $\sum_{i = 1}^{l + 1}\alpha_ih_i = 0$, то:
	\[0 = \psi\left(\sum_{i = 1}^{l + 1}\alpha_ih_i\right) = \sum_{i = 1}^{l+1}\alpha_i\psi(h_i) = \alpha_{k+1}m\]
	
	Значит, $\alpha_{l + 1} = 0$. Но тогда, в силу независимости $(h_1, \ldots, h_l)$, $\alpha_1 = \dotsb = \alpha_l = 0$, и $(h_1, \ldots, h_{l+1})$ независима.
\end{proof}

\begin{note}[Теорема Нильсена-Шрайера]
	Пусть $F_n$ --- свободная группа,  $H \le F_n$. Тогда $H$ --- тоже свободная группа, однако число свободных порождающих в $H$ может превышать $n$ и даже быть бесконечным.
\end{note}

\begin{example}
	Пусть $F_2 = \gl a, b \gr$ --- свободная группа со свободными образующими $a, b$. Тогда $H = \gl a^kba^k : k \in \N \gr \le F_2$ --- свободная группа со свободными образующими $a^kba^k$, $k \in \N$.
\end{example}

\begin{note}
	Если $G$--- свободная абелева группа и $H \le G$ --- свободная абелева группа того же ранга, что и $G$, то необязательно $H = G$. Например, $2\Z \ne \Z$.
\end{note}

\begin{exercise}
	Рассмотрим линейное пространство $\R^n$ с базисом $(\overline{e_1}, \ldots, \overline{e_n})$. $\Gamma := \gl \overline{e_1}, \ldots, \overline{e_n}\gr \le \R^n$ --- свободная абелева группа, также называемая решеткой. Тогда:
	\begin{enumerate}
		\item Фундаментальный объем, то есть $V(\Gamma) := |V(\overline{e_1}, \ldots, \overline{e_n})|$, не зависит от выбора базиса в $\Gamma$
		
		\item Если $\Gamma_1 \le \Gamma_2$ --- две решетки ранга $n$ в $\R^n$, то $|\Gamma_2 : \Gamma_1| = \frac{V(\Gamma_1)}{V(\Gamma_2)}$
	\end{enumerate}
\end{exercise}

\begin{solution}~
	\begin{enumerate}
		\item Пусть $e = (\overline{e_1}, \ldots, \overline{e_n})$ и $e' = (\overline{e_1'}, \ldots, \overline{e_n'})$ --- два базиса в $\Gamma$, $\Gamma(e)$, $\Gamma(e')$ --- матрицы Грама этих базисов. Если $S$ --- матрица перехода из $e$ в $e'$, то $|\det{S}| = 1$, поэтому $V(e') = \sqrt{\det\Gamma(e')} = \sqrt{\det{(S^T\Gamma(e)S)}} = \sqrt{\det\Gamma(e)} = V(e)$.
		
		\item Данное утверждение следует из теоремы о согласованных базисах из следующего раздела.
	\end{enumerate}
\end{solution}